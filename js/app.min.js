(()=>{"use strict";let e=!1;if(setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),function e(t,s,i){function a(o,r){if(!s[o]){if(!t[o]){var l="function"==typeof require&&require;if(!r&&l)return l(o,!0);if(n)return n(o,!0);throw(l=new Error("Cannot find module '"+o+"'")).code="MODULE_NOT_FOUND",l}l=s[o]={exports:{}},t[o][0].call(l.exports,(function(e){return a(t[o][1][e]||e)}),l,l.exports,e,t,s,i)}return s[o].exports}for(var n="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,t,s){window.SlotMachine=e("./slot-machine")},{"./slot-machine":3}],2:[function(e,t,s){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;t.exports=function(e){setTimeout((function(){return i(e)}),1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)}},{}],3:[function(e,t,s){var i=function(e,t,s){return t&&a(e.prototype,t),s&&a(e,s),e};function a(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var n=e("./timer"),o=e("./raf"),r={active:0,delay:200,auto:!1,spins:5,randomize:null,onComplete:null,inViewport:!0,direction:"up",transition:"ease-in-out"},l="slotMachineNoTransition",c="slotMachineBlurFast",d="slotMachineBlurMedium",u="slotMachineBlurSlow",m="slotMachineBlurTurtle",h="slotMachineGradient",_=h;i(p,[{key:"changeSettings",value:function(e){var t=this;Object.keys(e).forEach((function(s){t[s]=e[s]}))}},{key:"_wrapTiles",value:function(){var e=this;this.container=document.createElement("div"),this.container.classList.add("slotMachineContainer"),this.container.style.transition="1s ease-in-out",this.element.appendChild(this.container),this._fakeFirstTile=this.tiles[this.tiles.length-1].cloneNode(!0),this.container.appendChild(this._fakeFirstTile),this.tiles.forEach((function(t){e.container.appendChild(t)})),this._fakeLastTile=this.tiles[0].cloneNode(!0),this.container.appendChild(this._fakeLastTile)}},{key:"_setBounds",value:function(){var e=this.getTileOffset(this.active),t=this.getTileOffset(this.tiles.length),s=this.getTileOffset(this.tiles.length);this._bounds={up:{key:"up",initial:e,first:0,last:s,to:this._maxTop,firstToLast:s,lastToFirst:0},down:{key:"down",initial:e,first:t,last:0,to:this._minTop,firstToLast:s,lastToFirst:0}}}},{key:"_changeTransition",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.delay,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.transition;this.container.style.transition=e/1e3+"s "+t}},{key:"_changeTransform",value:function(e){this.container.style.transform="matrix(1, 0, 0, 1, 0, "+e+")"}},{key:"_isGoingBackward",value:function(){return this.nextActive>this.active&&0===this.active&&this.nextActive===this.tiles.length-1}},{key:"_isGoingForward",value:function(){return this.nextActive<=this.active&&this.active===this.tiles.length-1&&0===this.nextActive}},{key:"getTileOffset",value:function(e){for(var t=0,s=0;s<e;s++)t+=this.tiles[s].offsetHeight;return this._minTop-t}},{key:"_resetPosition",value:function(e){this.container.classList.toggle(l),this._changeTransform(isNaN(e)?this.bounds.initial:e),this.container.offsetHeight,this.container.classList.toggle(l)}},{key:"prev",value:function(){return this.nextActive=this.prevIndex,this.running=!0,this.stop(),this.nextActive}},{key:"next",value:function(){return this.nextActive=this.nextIndex,this.running=!0,this.stop(),this.nextActive}},{key:"_getDelayFromSpins",value:function(e){var t=this.delay;switch(this.transition="linear",e){case 1:t/=.5,this.transition="ease-out",this._animationFX=m;break;case 2:t/=.75,this._animationFX=u;break;case 3:t/=1,this._animationFX=d;break;case 4:t/=1.25,this._animationFX=d;break;default:t/=1.5,this._animationFX=c}return t}},{key:"shuffle",value:function(e,t){var s,i=this;return"function"==typeof e&&(t=e),this.running=!0,this.visible||!0!==this.inViewport?(s=this._getDelayFromSpins(e),this._changeTransition(s),this._changeTransform(this.bounds.to),o((function(){var s;!i.stopping&&i.running&&(s=e-1,i._resetPosition(i.bounds.first),1<s?i.shuffle(s,t):i.stop(t))}),s)):this.stop(t),this.nextActive}},{key:"stop",value:function(e){var t=this;if(!this.running||this.stopping)return this.nextActive;this.running=!0,this.stopping=!0,Number.isInteger(this.nextActive)||(this.nextActive=this.custom),this._isGoingBackward()?this._resetPosition(this.bounds.firstToLast):this._isGoingForward()&&this._resetPosition(this.bounds.lastToFirst),this.active=this.nextActive;var s=this._getDelayFromSpins(1);return this._changeTransition(s),this._animationFX=_,this._changeTransform(this.getTileOffset(this.active)),o((function(){t.stopping=!1,t.running=!1,t.nextActive=null,"function"==typeof t.onComplete&&t.onComplete(t.active),"function"==typeof e&&e.apply(t,[t.active])}),s),this.active}},{key:"run",value:function(){var e=this;this.running||(this._timer=new n((function(){e.visible||!0!==e.inViewport?e.shuffle(e.spins,(function(){e._timer.reset()})):o((function(){e._timer.reset()}),500)}),this.auto))}},{key:"destroy",value:function(){var e=this;this._fakeFirstTile.remove(),this._fakeLastTile.remove(),this.tiles.forEach((function(t){e.element.appendChild(t)})),this.container.remove()}},{key:"active",get:function(){return this._active},set:function(e){((e=Number(e))<0||e>=this.tiles.length||isNaN(e))&&(e=0),this._active=e}},{key:"direction",get:function(){return this._direction},set:function(e){this.running||(this._direction="down"===e?"down":"up")}},{key:"bounds",get:function(){return this._bounds[this._direction]}},{key:"transition",get:function(){return this._transition},set:function(e){this._transition=e||"ease-in-out"}},{key:"visibleTile",get:function(){var e=this.tiles[0].offsetHeight,t=this.container.style.transform||"";t=parseInt(t.replace(/^matrix\(-?\d+,\s?-?\d+,\s?-?\d+,\s?-?\d+,\s?-?\d+,\s?(-?\d+)\)$/,"$1"),10);return Math.abs(Math.round(t/e))-1}},{key:"random",get:function(){return Math.floor(Math.random()*this.tiles.length)}},{key:"custom",get:function(){var e;return this.randomize?(((e=this.randomize(this.active))<0||e>=this.tiles.length)&&(e=0),e):this.random}},{key:"_prevIndex",get:function(){var e=this.active-1;return e<0?this.tiles.length-1:e}},{key:"_nextIndex",get:function(){var e=this.active+1;return e<this.tiles.length?e:0}},{key:"prevIndex",get:function(){return"up"===this.direction?this._nextIndex:this._prevIndex}},{key:"nextIndex",get:function(){return"up"===this.direction?this._prevIndex:this._nextIndex}},{key:"visible",get:function(){var e=this.element.getBoundingClientRect(),t=window.innerHeight||document.documentElement.clientHeight,s=window.innerWidth||document.documentElement.clientWidth;t=e.top<=t&&0<=e.top+e.height,e=e.left<=s&&0<=e.left+e.width;return t&&e}},{key:"_animationFX",set:function(e){var t=this,s=this.delay/4;o((function(){[].concat(function(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}(t.tiles),[t._fakeLastTile,t._fakeFirstTile]).forEach((function(t){t.classList.remove(c,d,u,m),e!==_&&t.classList.add(e)})),e===_?t.container.classList.remove(h):t.container.classList.add(h)}),s)}}]),i=p;function p(e,t){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this),this.element=e,this.tiles=[].slice.call(this.element.children),this.running=!1,this.stopping=!1,this.element.style.overflow="hidden",this._wrapTiles(),this._minTop=-this._fakeFirstTile.offsetHeight,this._maxTop=-this.tiles.reduce((function(e,t){return e+t.offsetHeight}),0),this.changeSettings(Object.assign({},r,t)),this._setBounds(),this._resetPosition(),!1!==this.auto&&this.run()}t.exports=i},{"./raf":2,"./timer":4}],4:[function(e,t,s){function i(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.cb=e,this.initialDelay=t,this.delay=t,this.startTime=null,this.timer=null,this.running=!1,this.resume(),this}t.exports=(function(e,t,s){t&&i(e.prototype,t),s&&i(e,s)}(a,[{key:"_start",value:function(){var e=this;this.timer=setTimeout((function(){e.running=!1,e.cb(e)}),this.delay)}},{key:"cancel",value:function(){this.running=!1,clearTimeout(this.timer)}},{key:"pause",value:function(){this.running&&(this.delay-=(new Date).getTime()-this.startTime,this.cancel())}},{key:"resume",value:function(){this.running||(this.running=!0,this.startTime=(new Date).getTime(),this._start())}},{key:"reset",value:function(){this.cancel(),this.delay=this.initialDelay,this._start()}},{key:"add",value:function(e){this.pause(),this.delay+=e,this.resume()}}]),a)},{}]},{},[1]),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("coins")&&(document.querySelector(".game")&&(document.querySelector(".header__point").innerHTML=sessionStorage.getItem("coins")),document.querySelector(".shop")&&(document.querySelector(".header__point").innerHTML=sessionStorage.getItem("coins")),document.querySelector(".battleship")&&(document.querySelector(".header-battleship__point_player1 span").innerHTML=sessionStorage.getItem("coins")),document.querySelector(".slotmashine")&&(document.querySelector(".header__point").innerHTML=sessionStorage.getItem("coins"))),sessionStorage.getItem("radar")){let e=sessionStorage.getItem("radar");document.querySelector("body")&&sessionStorage.setItem("radar",e)}else if(sessionStorage.getItem("tomahawk")){let e=sessionStorage.getItem("tomahawk");document.querySelector("body")&&sessionStorage.setItem("tomahawk",e)}else sessionStorage.setItem("radar",0),sessionStorage.setItem("tomahawk",0);document.querySelector(".battleship")&&(document.querySelector(".header-battleship__player_one").classList.add("_active"),sessionStorage.getItem("radar")>0&&document.querySelector(".actives-battleship__image_lock-radar").classList.add("_hide"),sessionStorage.getItem("tomahawk")>0&&document.querySelector(".actives-battleship__image_lock-tomahawk").classList.add("_hide"),sessionStorage.setItem("pl2-points",19),sessionStorage.setItem("pl1-points",19));const t=document.querySelector(".preloader__dots"),s=document.querySelector(".preloader"),i=document.querySelectorAll(".acces-preloader__text-hide"),a=document.querySelector(".acces-preloader__button"),n=document.querySelector(".acces-preloader__button_back"),o=document.querySelector(".wrapper"),r=document.querySelector(".battleship__field_player2"),l=document.querySelector(".header-battleship__player_one"),c=document.querySelector(".header-battleship__player_two");let d=document.querySelector(".header__point"),u=document.querySelector(".header-battleship__point_player1 span"),m=document.querySelector(".header-battleship__point_player2"),h=document.querySelector(".footer-slotmashine__win-text"),_=document.querySelector(".footer-slotmashine__bet-text");document.addEventListener("click",(e=>{let l=e.target;if(l.closest(".acces-preloader__button")&&(s.classList.add("_hide"),sessionStorage.setItem("preloader",!0),o.classList.add("_visible")),l.closest(".preloader__dots")&&(t.classList.add("_hide"),i.forEach((e=>{e.classList.add("_visible")})),a.classList.add("_hide"),n.classList.add("_visible")),l.closest(".acces-preloader__button_back")&&(t.classList.remove("_hide"),i.forEach((e=>{e.classList.remove("_visible")})),a.classList.remove("_hide"),n.classList.remove("_visible")),l.closest(".footer-slotmashine__button_minus")){let e=+document.querySelector(".footer-slotmashine__bet-text").innerHTML;e>=100&&(document.querySelector(".footer-slotmashine__bet-text").innerHTML=e-100)}if(l.closest(".footer-slotmashine__button_plus")){let e=+document.querySelector(".footer-slotmashine__bet-text").innerHTML;document.querySelector(".footer-slotmashine__bet-text").innerHTML=e+100}if(l.closest(".game__item")){if(l.closest(".game__inner").classList.add("_visible"),l.closest(".game__item").dataset.coins&&0!=l.closest(".game__item").dataset.coins){let e=+l.closest(".game__item").dataset.coins,t=+d.innerHTML;d.innerHTML=e+t,sessionStorage.setItem("coins",e+t),l.closest(".game__item").dataset.coins>0&&(document.querySelector(".header__icon").classList.add("_jump"),document.querySelector(".header__point").classList.add("_anim-size"),setTimeout((()=>{document.querySelector(".header__icon").classList.remove("_jump"),document.querySelector(".header__point").classList.remove("_anim-size")}),1e3)),l.closest(".game__item").dataset.coins<0&&(document.querySelector(".header__icon").classList.add("_jump"),document.querySelector(".header__point").classList.add("_anim-size-red"),setTimeout((()=>{document.querySelector(".header__icon").classList.remove("_jump"),document.querySelector(".header__point").classList.remove("_anim-size-red")}),1e3)),l.closest(".game__item").dataset.coins=0}if(1==l.closest(".game__item").dataset.rocket){console.log("rocket");let e=+sessionStorage.getItem("tomahawk");sessionStorage.setItem("tomahawk",e+1),l.closest(".game__item").dataset.rocket=0}if(1==l.closest(".game__item").dataset.radar){console.log("radar");let e=+sessionStorage.getItem("radar");sessionStorage.setItem("radar",e+1),l.closest(".game__item").dataset.radar=0}}if(l.closest(".shop__button")){if(+d.innerHTML>+l.closest(".shop__item").dataset.points&&l.closest(".shop__item").dataset.tomahawk){let e=+sessionStorage.getItem("tomahawk"),t=+l.closest(".shop__item").dataset.tomahawk,s=+d.innerHTML,i=+l.closest(".shop__item").dataset.points;d.innerHTML=s-i,sessionStorage.setItem("tomahawk",e+t),sessionStorage.setItem("coins",s-i),document.querySelector(".header__point").classList.add("_anim-size"),setTimeout((()=>{document.querySelector(".header__point").classList.remove("_anim-size")}),1e3)}else if(+d.innerHTML>+l.closest(".shop__item").dataset.points&&l.closest(".shop__item").dataset.radar){let e=+sessionStorage.getItem("radar");sessionStorage.setItem("radar",e+1);let t=+d.innerHTML,s=+l.closest(".shop__item").dataset.points;d.innerHTML=t-s,sessionStorage.setItem("coins",t-s),document.querySelector(".header__point").classList.add("_anim-size"),setTimeout((()=>{document.querySelector(".header__point").classList.remove("_anim-size")}),1e3)}+d.innerHTML<+l.closest(".shop__item").dataset.points&&(document.querySelector(".header__point").classList.add("_anim-no-money"),setTimeout((()=>{document.querySelector(".header__point").classList.remove("_anim-no-money")}),1e3))}if(l.closest(".button_red")){let e=sessionStorage.getItem("tomahawk");sessionStorage.setItem("tomahawk",e-1),0==sessionStorage.getItem("tomahawk")&&document.querySelector(".actives-battleship__image_lock-tomahawk").classList.remove("_hide"),sessionStorage.getItem("tomahawk")>=0&&r.classList.add("_atack")}if(l.closest(".button_green")){let e=sessionStorage.getItem("radar");sessionStorage.setItem("radar",e-1),0==sessionStorage.getItem("radar")&&document.querySelector(".actives-battleship__image_lock-radar").classList.remove("_hide"),sessionStorage.getItem("radar")>=0&&r.classList.add("_radar")}if(!l.closest(".battleship__field_player2")||l.closest(".battleship__field_player2").classList.contains("_atack")||l.closest(".battleship__field_player2").classList.contains("_radar")){if(l.closest(".battleship__field_player2")&&r.classList.contains("_atack")){if(r.classList.remove("_atack"),1==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];if(e.forEach((e=>{1==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e)})),0!=l.closest(".battleship__pl2").dataset.compl){let e=sessionStorage.getItem("pl2-points");e-=t.length,sessionStorage.setItem("pl2-points",e)}if(t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+u.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{1==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),u.innerHTML=+u.innerHTML+1e4;let e=+u.innerHTML;sessionStorage.setItem("coins",e)}}else if(2==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];e.forEach((e=>{2==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e)}));let s=sessionStorage.getItem("pl2-points");if(s-=t.length,sessionStorage.setItem("pl2-points",s),t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+u.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{2==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),u.innerHTML=+u.innerHTML+1e4;let e=+u.innerHTML;sessionStorage.setItem("coins",e)}}else if(3==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];e.forEach((e=>{3==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e),3==e.dataset.else&&1==e.dataset.compl&&e.dataset.target&&t.push(e)}));let s=sessionStorage.getItem("pl2-points");if(s-=t.length,sessionStorage.setItem("pl2-points",s),t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+u.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{3==e.dataset.else&&(e.dataset.compl=0)})),e.forEach((e=>{3==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible")),3==e.dataset.else&&(e.classList.add("_active"),e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),u.innerHTML=+u.innerHTML+1e4;let e=+u.innerHTML;sessionStorage.setItem("coins",e)}}else if(4==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];e.forEach((e=>{4==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e)}));let s=sessionStorage.getItem("pl2-points");if(s-=t.length,sessionStorage.setItem("pl2-points",s),t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+u.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{4==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),u.innerHTML=+u.innerHTML+1e4;let e=+u.innerHTML;sessionStorage.setItem("coins",e)}}else if(5==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];e.forEach((e=>{5==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e)}));let s=sessionStorage.getItem("pl2-points");if(s-=t.length,sessionStorage.setItem("pl2-points",s),t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+u.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{5==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),u.innerHTML=+u.innerHTML+1e4;let e=+u.innerHTML;sessionStorage.setItem("coins",e)}}else if(6==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];e.forEach((e=>{6==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e)}));let s=sessionStorage.getItem("pl2-points");if(s-=t.length,sessionStorage.setItem("pl2-points",s),t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+u.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{6==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible")),6==e.dataset.else&&(e.classList.add("_active"),e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),u.innerHTML=+u.innerHTML+1e4;let e=+u.innerHTML;sessionStorage.setItem("coins",e)}}else if(7==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];e.forEach((e=>{7==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e)}));let s=sessionStorage.getItem("pl2-points");if(s-=t.length,sessionStorage.setItem("pl2-points",s),t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+u.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{7==e.dataset.place&&e.classList.add("_active"),7==e.dataset.else&&(e.dataset.compl=0,e.classList.add("_active"),e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),u.innerHTML=+u.innerHTML+1e4;let e=+u.innerHTML;sessionStorage.setItem("coins",e)}}else if(8==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];e.forEach((e=>{8==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e)}));let s=sessionStorage.getItem("pl2-points");if(s-=t.length,sessionStorage.setItem("pl2-points",s),t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+u.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{8==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),u.innerHTML=+u.innerHTML+1e4;let e=+u.innerHTML;sessionStorage.setItem("coins",e)}}}else if(l.closest(".battleship__field_player2")&&r.classList.contains("_radar"))if(r.classList.remove("_radar"),1==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{1==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(2==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{2==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(3==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{3==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(4==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{4==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(5==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{5==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(6==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{6==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(7==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{7==e.dataset.place&&e.classList.add("_active-radar")})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(8==l.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{8==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}}else{if(l.closest(".battleship__pl2").dataset.target&&0!=l.closest(".battleship__pl2").dataset.target){l.closest(".battleship__pl2").classList.add("_visible");let e=sessionStorage.getItem("pl2-points");e-=1,sessionStorage.setItem("pl2-points",e);let t=document.querySelector(".header-battleship__point span");setTimeout((()=>{t.innerHTML=+t.innerHTML+100;let e=+sessionStorage.getItem("coins"),s=+u.innerHTML;sessionStorage.setItem("coins",e+s)}),500),document.querySelector(".header-battleship__point").classList.add("_anim-size"),setTimeout((()=>{document.querySelector(".header-battleship__point").classList.remove("_anim-size")}),1e3),0==e&&document.querySelector(".win-battleship").classList.add("_visible"),l.closest(".battleship__pl2").dataset.target=0,l.closest(".battleship__pl2").dataset.compl=0}l.closest(".battleship__pl2").dataset.target||l.closest(".battleship__pl2").classList.contains("_past")||(l.closest(".battleship__pl2").classList.add("_past"),document.querySelector(".button_green").classList.add("_events"),document.querySelector(".button_red").classList.add("_events"),g())}(l.closest(".button_again")||l.closest(".button_home"))&&document.querySelector(".win-battleship").classList.remove("_visible")}));let p=[];function g(){l.classList.remove("_active"),c.classList.add("_active"),r.classList.add("_events"),setTimeout((()=>{let e=document.querySelectorAll(".battleship__pl1"),t=(s=1,i=100,Math.floor(Math.random()*(i-s)+s));var s,i;if(1==p.includes(t))return g(),!1;if(p.push(t),e[t].dataset.target){let s=+sessionStorage.getItem("pl1-points");sessionStorage.setItem("pl1-points",s-1),e[t].classList.add("_visible"),setTimeout((()=>{m.innerHTML=+m.innerHTML+100}),600),document.querySelector(".header-battleship__point_player2").classList.add("_anim-size"),setTimeout((()=>{document.querySelector(".header-battleship__point_player2").classList.remove("_anim-size")}),1e3),0==s&&document.querySelector(".lose-battleship").classList.add("_visible"),setTimeout(g,2e3)}else e[t].classList.add("_past"),c.classList.remove("_active"),r.classList.remove("_events"),l.classList.add("_active"),document.querySelector(".button_green").classList.remove("_events"),document.querySelector(".button_red").classList.remove("_events")}),3e3)}var f=500,L=2e3;function v(e,t){return Math.floor(Math.random()*(t-e)+e)}var y=document.querySelector("#slot1"),S=document.querySelector("#slot2"),b=document.querySelector("#slot3"),T=document.querySelector("#slot4"),M=document.querySelector("#slot5");if(y&&S&&b&&T&&M){let e,t,s,i,a;var q,I=new SlotMachine(y,{active:0,delay:400,onComplete:function(n){e=this.active,666!=e&&666!=t&&666!=s&&666!=i&&666!=a&&e==t&&t==s&&s==i&&i==a&&(d.innerHTML=+d.innerHTML+100*_,h.innerHTML=+h.innerHTML+100*_,d.classList.add("_anim"),h.classList.add("_anim"),setTimeout((()=>{d.classList.remove("_anim"),h.classList.remove("_anim")}),1500),sessionStorage.setItem("coins",d.innerHTML))}}),H=new SlotMachine(S,{active:2,delay:400,onComplete:function(n){t=this.active,666!=e&&666!=t&&666!=s&&666!=i&&666!=a&&e==t&&t==s&&s==i&&i==a&&(d.innerHTML=+d.innerHTML+100*_,h.innerHTML=+h.innerHTML+100*_,d.classList.add("_anim"),h.classList.add("_anim"),setTimeout((()=>{d.classList.remove("_anim"),h.classList.remove("_anim")}),1500),sessionStorage.setItem("coins",d.innerHTML))}}),w=new SlotMachine(b,{active:1,delay:400,onComplete:function(n){s=this.active,666!=e&&666!=t&&666!=s&&666!=i&&666!=a&&e==t&&t==s&&s==i&&i==a&&(d.innerHTML=+d.innerHTML+100*_,h.innerHTML=+h.innerHTML+100*_,d.classList.add("_anim"),h.classList.add("_anim"),setTimeout((()=>{d.classList.remove("_anim"),h.classList.remove("_anim")}),1500),sessionStorage.setItem("coins",d.innerHTML))}}),k=new SlotMachine(T,{active:4,delay:400,onComplete:function(n){i=this.active,666!=e&&666!=t&&666!=s&&666!=i&&666!=a&&e==t&&t==s&&s==i&&i==a&&(d.innerHTML=+d.innerHTML+100*_,h.innerHTML=+h.innerHTML+100*_,d.classList.add("_anim"),h.classList.add("_anim"),setTimeout((()=>{d.classList.remove("_anim"),h.classList.remove("_anim")}),1500),sessionStorage.setItem("coins",d.innerHTML))}}),E=new SlotMachine(M,{active:6,delay:400,onComplete:function(n){a=this.active,666!=e&&666!=t&&666!=s&&666!=i&&666!=a&&e==t&&t==s&&s==i&&i==a&&(d.innerHTML=+d.innerHTML+100*_,h.innerHTML=+h.innerHTML+100*_,d.classList.add("_anim"),h.classList.add("_anim"),setTimeout((()=>{d.classList.remove("_anim"),h.classList.remove("_anim")}),1500),sessionStorage.setItem("coins",d.innerHTML))}});function n(){document.querySelector(".footer-slotmashine__button-play_spin").classList.add("_hold");let e=+d.innerHTML;d.innerHTML=e-+_.innerHTML,sessionStorage.setItem("coins",d.innerHTML),setTimeout((()=>{document.querySelector(".footer-slotmashine__button-play_spin").classList.remove("_hold")}),2e3),I.shuffle(9999),H.shuffle(9999),w.shuffle(9999),k.shuffle(9999),E.shuffle(9999),setTimeout((()=>I.stop()),v(f,L)),setTimeout((()=>H.stop()),v(f,L)),setTimeout((()=>w.stop()),v(f,L)),setTimeout((()=>k.stop()),v(f,L)),setTimeout((()=>E.stop()),v(f,L))}document.querySelector(".footer-slotmashine__button-play_spin")&&document.querySelector(".footer-slotmashine__button-play_spin").addEventListener("click",(()=>{e=666,t=666,s=666,i=666,a=666,y&&S&&b&&T&&M&&(clearInterval(q),n()),document.querySelector(".footer-slotmashine__button-play_spin").classList.add("_hide"),setTimeout((()=>{document.querySelector(".footer-slotmashine__button-play_spin").classList.remove("_hide")}),2e3)})),document.querySelector(".footer-slotmashine__button-play_auto")&&document.querySelector(".footer-slotmashine__button-play_auto").addEventListener("click",(()=>{if(y&&S&&b&&T&&M){document.querySelector(".footer-slotmashine__button-play_auto").style.pointerEvents="none",n();let e=0;q=setInterval((function(){e++,e<10?n():(clearInterval(q),document.querySelector(".footer-slotmashine__button-play_auto").style.pointerEvents="fill")}),4e3)}}))}window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();