(()=>{"use strict";let e=!1;if(setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("coins")&&(document.querySelector(".game")&&(document.querySelector(".header__point").innerHTML=sessionStorage.getItem("coins")),document.querySelector(".shop")&&(document.querySelector(".header__point").innerHTML=sessionStorage.getItem("coins"))),sessionStorage.getItem("radar")){let e=sessionStorage.getItem("radar");document.querySelector("body")&&sessionStorage.setItem("radar",e)}else if(sessionStorage.getItem("tomahawk")){let e=sessionStorage.getItem("tomahawk");document.querySelector("body")&&sessionStorage.setItem("tomahawk",e)}else sessionStorage.setItem("radar",0),sessionStorage.setItem("tomahawk",0);document.querySelector(".battleship")&&(sessionStorage.getItem("radar")>0&&document.querySelector(".actives-battleship__image_lock-radar").classList.add("_hide"),sessionStorage.getItem("tomahawk")>0&&document.querySelector(".actives-battleship__image_lock-tomahawk").classList.add("_hide"),sessionStorage.setItem("pl2-points",19),sessionStorage.setItem("pl1-points",19));const t=document.querySelector(".preloader__dots"),s=document.querySelector(".preloader"),a=document.querySelectorAll(".acces-preloader__text-hide"),o=document.querySelector(".acces-preloader__button"),l=document.querySelector(".acces-preloader__button_back"),i=document.querySelector(".wrapper"),c=document.querySelector(".battleship__field_player2");let r=document.querySelector(".header__point");document.addEventListener("click",(e=>{let d=e.target;if(d.closest(".acces-preloader__button")&&(s.classList.add("_hide"),sessionStorage.setItem("preloader",!0),i.classList.add("_visible")),d.closest(".preloader__dots")&&(t.classList.add("_hide"),a.forEach((e=>{e.classList.add("_visible")})),o.classList.add("_hide"),l.classList.add("_visible")),d.closest(".acces-preloader__button_back")&&(t.classList.remove("_hide"),a.forEach((e=>{e.classList.remove("_visible")})),o.classList.remove("_hide"),l.classList.remove("_visible")),d.closest(".game__item")){if(d.closest(".game__inner").classList.add("_visible"),d.closest(".game__item").dataset.coins&&0!=d.closest(".game__item").dataset.coins){let e=+d.closest(".game__item").dataset.coins,t=+r.innerHTML;r.innerHTML=e+t,sessionStorage.setItem("coins",e+t),d.closest(".game__item").dataset.coins>0&&(document.querySelector(".header__icon").classList.add("_jump"),document.querySelector(".header__point").classList.add("_anim-size"),setTimeout((()=>{document.querySelector(".header__icon").classList.remove("_jump"),document.querySelector(".header__point").classList.remove("_anim-size")}),1e3)),d.closest(".game__item").dataset.coins<0&&(document.querySelector(".header__icon").classList.add("_jump"),document.querySelector(".header__point").classList.add("_anim-size-red"),setTimeout((()=>{document.querySelector(".header__icon").classList.remove("_jump"),document.querySelector(".header__point").classList.remove("_anim-size-red")}),1e3)),d.closest(".game__item").dataset.coins=0}if(1==d.closest(".game__item").dataset.rocket){console.log("rocket");let e=+sessionStorage.getItem("tomahawk");sessionStorage.setItem("tomahawk",e+1),d.closest(".game__item").dataset.rocket=0}if(1==d.closest(".game__item").dataset.radar){console.log("radar");let e=+sessionStorage.getItem("radar");sessionStorage.setItem("radar",e+1),d.closest(".game__item").dataset.radar=0}}if(d.closest(".shop__button")){if(+r.innerHTML>+d.closest(".shop__item").dataset.points&&d.closest(".shop__item").dataset.tomahawk){let e=+sessionStorage.getItem("tomahawk"),t=+d.closest(".shop__item").dataset.tomahawk,s=+r.innerHTML,a=+d.closest(".shop__item").dataset.points;r.innerHTML=s-a,sessionStorage.setItem("tomahawk",e+t),sessionStorage.setItem("coins",s-a),document.querySelector(".header__point").classList.add("_anim-size"),setTimeout((()=>{document.querySelector(".header__point").classList.remove("_anim-size")}),1e3)}else if(+r.innerHTML>+d.closest(".shop__item").dataset.points&&d.closest(".shop__item").dataset.radar){let e=+sessionStorage.getItem("radar");sessionStorage.setItem("radar",e+1);let t=+r.innerHTML,s=+d.closest(".shop__item").dataset.points;r.innerHTML=t-s,sessionStorage.setItem("coins",t-s),document.querySelector(".header__point").classList.add("_anim-size"),setTimeout((()=>{document.querySelector(".header__point").classList.remove("_anim-size")}),1e3)}+r.innerHTML<+d.closest(".shop__item").dataset.points&&(document.querySelector(".header__point").classList.add("_anim-no-money"),setTimeout((()=>{document.querySelector(".header__point").classList.remove("_anim-no-money")}),1e3))}if(d.closest(".button_red")){let e=sessionStorage.getItem("tomahawk");sessionStorage.setItem("tomahawk",e-1),0==sessionStorage.getItem("tomahawk")&&document.querySelector(".actives-battleship__image_lock-tomahawk").classList.remove("_hide"),sessionStorage.getItem("tomahawk")>=0&&c.classList.add("_atack")}if(d.closest(".button_green")){let e=sessionStorage.getItem("radar");sessionStorage.setItem("radar",e-1),0==sessionStorage.getItem("radar")&&document.querySelector(".actives-battleship__image_lock-radar").classList.remove("_hide"),sessionStorage.getItem("radar")>=0&&c.classList.add("_radar")}if(!d.closest(".battleship__field_player2")||d.closest(".battleship__field_player2").classList.contains("_atack")||d.closest(".battleship__field_player2").classList.contains("_radar")){if(d.closest(".battleship__field_player2")&&c.classList.contains("_atack")){if(c.classList.remove("_atack"),1==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");if(0!=d.closest(".battleship__pl2").dataset.compl){let e=sessionStorage.getItem("pl2-points");e-=1,sessionStorage.setItem("pl2-points",e)}e.forEach((e=>{1==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),0==sessionStorage.getItem("pl2-points")&&document.querySelector(".win-battleship").classList.add("_visible")}else if(2==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");if(0!=d.closest(".battleship__pl2").dataset.compl){let e=sessionStorage.getItem("pl2-points");e-=4,sessionStorage.setItem("pl2-points",e)}e.forEach((e=>{2==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),0==sessionStorage.getItem("pl2-points")&&document.querySelector(".win-battleship").classList.add("_visible")}else if(3==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");if(0!=d.closest(".battleship__pl2").dataset.compl){let e=sessionStorage.getItem("pl2-points");e-=2,sessionStorage.setItem("pl2-points",e)}e.forEach((e=>{3==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),0==sessionStorage.getItem("pl2-points")&&document.querySelector(".win-battleship").classList.add("_visible")}else if(4==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");if(0!=d.closest(".battleship__pl2").dataset.compl){let e=sessionStorage.getItem("pl2-points");e-=5,sessionStorage.setItem("pl2-points",e)}e.forEach((e=>{4==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),0==sessionStorage.getItem("pl2-points")&&document.querySelector(".win-battleship").classList.add("_visible")}else if(5==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");if(0!=d.closest(".battleship__pl2").dataset.compl){let e=sessionStorage.getItem("pl2-points");e-=3,sessionStorage.setItem("pl2-points",e)}e.forEach((e=>{5==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),0==sessionStorage.getItem("pl2-points")&&document.querySelector(".win-battleship").classList.add("_visible")}else if(6==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");if(0!=d.closest(".battleship__pl2").dataset.compl){let e=sessionStorage.getItem("pl2-points");e-=3,sessionStorage.setItem("pl2-points",e)}e.forEach((e=>{6==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),0==sessionStorage.getItem("pl2-points")&&document.querySelector(".win-battleship").classList.add("_visible")}else if(7==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{7==e.dataset.place&&e.classList.add("_active")})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3)}else if(8==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");if(0!=d.closest(".battleship__pl2").dataset.compl){let e=sessionStorage.getItem("pl2-points");e-=1,sessionStorage.setItem("pl2-points",e)}e.forEach((e=>{8==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),0==sessionStorage.getItem("pl2-points")&&document.querySelector(".win-battleship").classList.add("_visible")}}else if(d.closest(".battleship__field_player2")&&c.classList.contains("_radar"))if(c.classList.remove("_radar"),1==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{1==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(2==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{2==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(3==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{3==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(4==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{4==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(5==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{5==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(6==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{6==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(7==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{7==e.dataset.place&&e.classList.add("_active-radar")})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(8==d.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{8==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}}else{if(d.closest(".battleship__pl2").dataset.target&&0!=d.closest(".battleship__pl2").dataset.target){d.closest(".battleship__pl2").classList.add("_visible");let e=sessionStorage.getItem("pl2-points");e-=1,sessionStorage.setItem("pl2-points",e);let t=document.querySelector(".header-battleship__point span");setTimeout((()=>{t.innerHTML=+t.innerHTML+100}),500),document.querySelector(".header-battleship__point").classList.add("_anim-size"),setTimeout((()=>{document.querySelector(".header-battleship__point").classList.remove("_anim-size")}),1e3),0==e&&document.querySelector(".win-battleship").classList.add("_visible"),d.closest(".battleship__pl2").dataset.target=0}d.closest(".battleship__pl2").dataset.target||d.closest(".battleship__pl2").classList.add("_past")}(d.closest(".button_again")||d.closest(".button_home"))&&document.querySelector(".win-battleship").classList.remove("_visible")})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();