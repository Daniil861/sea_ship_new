(()=>{"use strict";let e=!1;if(setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("coins")&&(document.querySelector(".game")&&(document.querySelector(".header__point").innerHTML=sessionStorage.getItem("coins")),document.querySelector(".shop")&&(document.querySelector(".header__point").innerHTML=sessionStorage.getItem("coins")),document.querySelector(".battleship")&&(document.querySelector(".header-battleship__point_player1 span").innerHTML=sessionStorage.getItem("coins"))),sessionStorage.getItem("radar")){let e=sessionStorage.getItem("radar");document.querySelector("body")&&sessionStorage.setItem("radar",e)}else if(sessionStorage.getItem("tomahawk")){let e=sessionStorage.getItem("tomahawk");document.querySelector("body")&&sessionStorage.setItem("tomahawk",e)}else sessionStorage.setItem("radar",0),sessionStorage.setItem("tomahawk",0);document.querySelector(".battleship")&&(document.querySelector(".header-battleship__player_one").classList.add("_active"),sessionStorage.getItem("radar")>0&&document.querySelector(".actives-battleship__image_lock-radar").classList.add("_hide"),sessionStorage.getItem("tomahawk")>0&&document.querySelector(".actives-battleship__image_lock-tomahawk").classList.add("_hide"),sessionStorage.setItem("pl2-points",19),sessionStorage.setItem("pl1-points",19));const t=document.querySelector(".preloader__dots"),s=document.querySelector(".preloader"),a=document.querySelectorAll(".acces-preloader__text-hide"),o=document.querySelector(".acces-preloader__button"),i=document.querySelector(".acces-preloader__button_back"),l=document.querySelector(".wrapper"),r=document.querySelector(".battleship__field_player2"),c=document.querySelector(".header-battleship__player_one"),n=document.querySelector(".header-battleship__player_two");let d=document.querySelector(".header__point"),_=document.querySelector(".header-battleship__point_player1 span");document.addEventListener("click",(e=>{let c=e.target;if(c.closest(".acces-preloader__button")&&(s.classList.add("_hide"),sessionStorage.setItem("preloader",!0),l.classList.add("_visible")),c.closest(".preloader__dots")&&(t.classList.add("_hide"),a.forEach((e=>{e.classList.add("_visible")})),o.classList.add("_hide"),i.classList.add("_visible")),c.closest(".acces-preloader__button_back")&&(t.classList.remove("_hide"),a.forEach((e=>{e.classList.remove("_visible")})),o.classList.remove("_hide"),i.classList.remove("_visible")),c.closest(".game__item")){if(c.closest(".game__inner").classList.add("_visible"),c.closest(".game__item").dataset.coins&&0!=c.closest(".game__item").dataset.coins){let e=+c.closest(".game__item").dataset.coins,t=+d.innerHTML;d.innerHTML=e+t,sessionStorage.setItem("coins",e+t),c.closest(".game__item").dataset.coins>0&&(document.querySelector(".header__icon").classList.add("_jump"),document.querySelector(".header__point").classList.add("_anim-size"),setTimeout((()=>{document.querySelector(".header__icon").classList.remove("_jump"),document.querySelector(".header__point").classList.remove("_anim-size")}),1e3)),c.closest(".game__item").dataset.coins<0&&(document.querySelector(".header__icon").classList.add("_jump"),document.querySelector(".header__point").classList.add("_anim-size-red"),setTimeout((()=>{document.querySelector(".header__icon").classList.remove("_jump"),document.querySelector(".header__point").classList.remove("_anim-size-red")}),1e3)),c.closest(".game__item").dataset.coins=0}if(1==c.closest(".game__item").dataset.rocket){console.log("rocket");let e=+sessionStorage.getItem("tomahawk");sessionStorage.setItem("tomahawk",e+1),c.closest(".game__item").dataset.rocket=0}if(1==c.closest(".game__item").dataset.radar){console.log("radar");let e=+sessionStorage.getItem("radar");sessionStorage.setItem("radar",e+1),c.closest(".game__item").dataset.radar=0}}if(c.closest(".shop__button")){if(+d.innerHTML>+c.closest(".shop__item").dataset.points&&c.closest(".shop__item").dataset.tomahawk){let e=+sessionStorage.getItem("tomahawk"),t=+c.closest(".shop__item").dataset.tomahawk,s=+d.innerHTML,a=+c.closest(".shop__item").dataset.points;d.innerHTML=s-a,sessionStorage.setItem("tomahawk",e+t),sessionStorage.setItem("coins",s-a),document.querySelector(".header__point").classList.add("_anim-size"),setTimeout((()=>{document.querySelector(".header__point").classList.remove("_anim-size")}),1e3)}else if(+d.innerHTML>+c.closest(".shop__item").dataset.points&&c.closest(".shop__item").dataset.radar){let e=+sessionStorage.getItem("radar");sessionStorage.setItem("radar",e+1);let t=+d.innerHTML,s=+c.closest(".shop__item").dataset.points;d.innerHTML=t-s,sessionStorage.setItem("coins",t-s),document.querySelector(".header__point").classList.add("_anim-size"),setTimeout((()=>{document.querySelector(".header__point").classList.remove("_anim-size")}),1e3)}+d.innerHTML<+c.closest(".shop__item").dataset.points&&(document.querySelector(".header__point").classList.add("_anim-no-money"),setTimeout((()=>{document.querySelector(".header__point").classList.remove("_anim-no-money")}),1e3))}if(c.closest(".button_red")){let e=sessionStorage.getItem("tomahawk");sessionStorage.setItem("tomahawk",e-1),0==sessionStorage.getItem("tomahawk")&&document.querySelector(".actives-battleship__image_lock-tomahawk").classList.remove("_hide"),sessionStorage.getItem("tomahawk")>=0&&r.classList.add("_atack")}if(c.closest(".button_green")){let e=sessionStorage.getItem("radar");sessionStorage.setItem("radar",e-1),0==sessionStorage.getItem("radar")&&document.querySelector(".actives-battleship__image_lock-radar").classList.remove("_hide"),sessionStorage.getItem("radar")>=0&&r.classList.add("_radar")}if(!c.closest(".battleship__field_player2")||c.closest(".battleship__field_player2").classList.contains("_atack")||c.closest(".battleship__field_player2").classList.contains("_radar")){if(c.closest(".battleship__field_player2")&&r.classList.contains("_atack")){if(r.classList.remove("_atack"),1==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];if(e.forEach((e=>{1==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e)})),0!=c.closest(".battleship__pl2").dataset.compl){let e=sessionStorage.getItem("pl2-points");e-=t.length,sessionStorage.setItem("pl2-points",e)}if(t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+_.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{1==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),_.innerHTML=+_.innerHTML+1e4;let e=+_.innerHTML;sessionStorage.setItem("coins",e)}}else if(2==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];e.forEach((e=>{2==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e)}));let s=sessionStorage.getItem("pl2-points");if(s-=t.length,sessionStorage.setItem("pl2-points",s),t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+_.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{2==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),_.innerHTML=+_.innerHTML+1e4;let e=+_.innerHTML;sessionStorage.setItem("coins",e)}}else if(3==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];e.forEach((e=>{3==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e),3==e.dataset.else&&1==e.dataset.compl&&e.dataset.target&&t.push(e)}));let s=sessionStorage.getItem("pl2-points");if(s-=t.length,sessionStorage.setItem("pl2-points",s),t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+_.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{3==e.dataset.else&&(e.dataset.compl=0)})),e.forEach((e=>{3==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible")),3==e.dataset.else&&(e.classList.add("_active"),e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),_.innerHTML=+_.innerHTML+1e4;let e=+_.innerHTML;sessionStorage.setItem("coins",e)}}else if(4==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];e.forEach((e=>{4==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e)}));let s=sessionStorage.getItem("pl2-points");if(s-=t.length,sessionStorage.setItem("pl2-points",s),t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+_.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{4==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),_.innerHTML=+_.innerHTML+1e4;let e=+_.innerHTML;sessionStorage.setItem("coins",e)}}else if(5==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];e.forEach((e=>{5==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e)}));let s=sessionStorage.getItem("pl2-points");if(s-=t.length,sessionStorage.setItem("pl2-points",s),t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+_.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{5==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),_.innerHTML=+_.innerHTML+1e4;let e=+_.innerHTML;sessionStorage.setItem("coins",e)}}else if(6==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];e.forEach((e=>{6==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e)}));let s=sessionStorage.getItem("pl2-points");if(s-=t.length,sessionStorage.setItem("pl2-points",s),t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+_.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{6==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible")),6==e.dataset.else&&(e.classList.add("_active"),e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),_.innerHTML=+_.innerHTML+1e4;let e=+_.innerHTML;sessionStorage.setItem("coins",e)}}else if(7==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];e.forEach((e=>{7==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e)}));let s=sessionStorage.getItem("pl2-points");if(s-=t.length,sessionStorage.setItem("pl2-points",s),t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+_.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{7==e.dataset.place&&e.classList.add("_active"),7==e.dataset.else&&(e.dataset.compl=0,e.classList.add("_active"),e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),_.innerHTML=+_.innerHTML+1e4;let e=+_.innerHTML;sessionStorage.setItem("coins",e)}}else if(8==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2"),t=[];e.forEach((e=>{8==e.dataset.place&&1==e.dataset.compl&&e.dataset.target&&t.push(e)}));let s=sessionStorage.getItem("pl2-points");if(s-=t.length,sessionStorage.setItem("pl2-points",s),t.length>0){let e=document.querySelector(".header-battleship__point span");setTimeout((()=>{e.innerHTML=+e.innerHTML+100*t.length;let s=+_.innerHTML;sessionStorage.setItem("coins",s)}),500)}if(e.forEach((e=>{8==e.dataset.place&&(e.classList.add("_active"),e.dataset.compl=0,e.dataset.target&&e.classList.add("_visible"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active")}))}),2e3),sessionStorage.getItem("pl2-points")<=0){document.querySelector(".win-battleship").classList.add("_visible"),_.innerHTML=+_.innerHTML+1e4;let e=+_.innerHTML;sessionStorage.setItem("coins",e)}}}else if(c.closest(".battleship__field_player2")&&r.classList.contains("_radar"))if(r.classList.remove("_radar"),1==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{1==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(2==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{2==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(3==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{3==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(4==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{4==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(5==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{5==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(6==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{6==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(7==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{7==e.dataset.place&&e.classList.add("_active-radar")})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}else if(8==c.closest(".battleship__pl2").dataset.place){let e=document.querySelectorAll(".battleship__pl2");e.forEach((e=>{8==e.dataset.place&&(e.classList.add("_active-radar"),e.dataset.target&&e.classList.add("_visible-target"))})),setTimeout((()=>{e.forEach((e=>{e.classList.remove("_active-radar")}))}),2e3)}}else{if(c.closest(".battleship__pl2").dataset.target&&0!=c.closest(".battleship__pl2").dataset.target){c.closest(".battleship__pl2").classList.add("_visible");let e=sessionStorage.getItem("pl2-points");e-=1,sessionStorage.setItem("pl2-points",e);let t=document.querySelector(".header-battleship__point span");setTimeout((()=>{t.innerHTML=+t.innerHTML+100;let e=+sessionStorage.getItem("coins"),s=+_.innerHTML;sessionStorage.setItem("coins",e+s)}),500),document.querySelector(".header-battleship__point").classList.add("_anim-size"),setTimeout((()=>{document.querySelector(".header-battleship__point").classList.remove("_anim-size")}),1e3),0==e&&document.querySelector(".win-battleship").classList.add("_visible"),c.closest(".battleship__pl2").dataset.target=0,c.closest(".battleship__pl2").dataset.compl=0}c.closest(".battleship__pl2").dataset.target||c.closest(".battleship__pl2").classList.contains("_past")||(c.closest(".battleship__pl2").classList.add("_past"),m())}(c.closest(".button_again")||c.closest(".button_home"))&&document.querySelector(".win-battleship").classList.remove("_visible")}));let p=[];function m(){c.classList.remove("_active"),n.classList.add("_active"),r.classList.add("_events"),setTimeout((()=>{let e=document.querySelectorAll(".battleship__pl1"),t=(s=1,a=100,Math.floor(Math.random()*(a-s)+s));var s,a;if(1==p.includes(t))return m(),!1;if(p.push(t),console.log(p),console.log(e[t]),e[t].dataset.target){let s=+sessionStorage.getItem("pl1-points");sessionStorage.setItem("pl1-points",s-1),console.log("yeeea"),e[t].classList.add("_visible"),0==s&&console.log("you loose"),setTimeout(m,2e3)}else e[t].classList.add("_past"),n.classList.remove("_active"),r.classList.remove("_events"),c.classList.add("_active")}),2e3)}window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();